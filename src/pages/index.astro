---
import Layout from '~/layouts/layout.astro';

const pages = Object.entries<{ url: string; title: string }>(
  import.meta.glob('./game/*.astro', { eager: true })
).map(([path, page]) => {
  const { url, title } = page;

  return {
    path,
    url,
    title,
  };
});
---

<Layout>
  <h1>Byte Sized Games</h1>
  <ul>
    {
      pages.map((page) => (
        <li>
          <a href={page.url}>{page.title}</a>
        </li>
      ))
    }
  </ul>
</Layout>
